$(function(){"use strict";new Chartist.Line('.price-chart',{},{showArea:!0,fullWidth:!0,plugins:[Chartist.plugins.tooltip()]});function fetchData(symbol){var DATA={symbol:symbol,limit:7};$.ajax({type:"POST",url:AJAX_URL,dataType:"json",data:DATA,headers:{'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')}}).done(function(records){$('#chart-div').find('h4').text(symbol+' Price');records=records.reverse();var data={labels:records.map(function(r){return r.date}),series:[records.map(function(r){return r.price})]};var price_chart=$('.price-chart');price_chart.get(0).__chartist__.update(data)}).fail(function(){})}
fetchData('BTC');$('a.coin_list').click(function(e){e.preventDefault();var el=$(this);var symbol=el.attr('data-attr');fetchData(symbol)})})